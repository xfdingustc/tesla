<!doctype html>
<html>
<head>
    <title>React Transform Boilerplate</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <style>
        body {
            overflow:hidden;
        }
        body, #root, .hachi-ban {
            background: transparent;
        }
    </style>
</head>
<body>
<div id="root" style="width: 100vw">
</div>
<script src="./build/api.js"></script>
<script>
    // For on-the-fly (e.g. live view) usage ONLY
    var setState = hachi.gauge.setBuffer.bind(hachi.gauge);
    var update = hachi.gauge.setStateByBuffer.bind(hachi.gauge);
    var setGauge = hachi.gauge.setGauge.bind(hachi.gauge);
    var setTheme = hachi.gauge.setTheme.bind(hachi.gauge);
    // For static (e.g. transcoding) usage ONLY
    var injectRawData = hachi.gauge.injectRawData.bind(hachi.gauge);
    var updateByFrame = hachi.gauge.updateByFrame.bind(hachi.gauge);
    var isMapLoaded=hachi.gauge.isMapLoaded.bind(hachi.gauge);
    var getMapCorePosition = function () {
        return document.getElementsByClassName('map-core')[0].getBoundingClientRect();
        // An example output:  {top: 43.59375, right: 1774.8294677734375, bottom: 305.6391906738281, left: 1512.7840576171875, width: 262.0454406738281}
    };

    // Utils
    var numericMonthDate = hachi.numericMonthDate;


    //
    // // Hide Map
//     setState({showMap: false})
//     update()
//
//
//        injectRawData([
//                    {
//                        "duration": 2000,
//                        "url": "http://ws.waylens.com:8999/api/v3/moments/raw?guid=0c0651a3-1b46-4701-a434-d6f6166ec43e_00094ae800001388&offset=0&count=2000&start=2000&freq=0"
//                    }
//                ],2
//        );
//
//        updateByFrame(0);
//        var start = new Date().getTime();
//        // Following is for demonstration
//        // Feel free to modify it
//        // use hachi setBuffer to set an attribute
//        setState({rpm: 2000});
//        setState({lng: 121});
//        // 2000 means 2 degree
//        setState({roll: 2000});
//        // setBuffer can accept JS Object as the value
//        setState({time: new Date('December 17, 1995 03:24:00')});
//        setState({time: numericMonthDate('12 17, 1995 03:24:00')});
//        setState({mph: 33});
//        // setBuffer can accept multiple attributes
//        setState({gforceBA: 20, gforceLR: -30});
//
//        setState({
//            ambient: {
//                tempF: 12,
//                windSpeedMiles: 50,
//                pressure: 21,
//                humidity: 15,
//                weatherCode: 113
//            }
//        });
//        // it is efficient to set everything in one-pass
//        setState({
//            rpm: 111,
//            lng: 21,
//            lat: 42.360701,
//            baro: 0,
//            roll: 1230,
//            throttle: 0,
//            pitch: 5000,
//            time: numericMonthDate('12 19, 1995 03:24:00'),
//            mph: 39,
//            gforceBA: 21,
//            psi: 20,
//            gforceLR: -32,
//            ambient: {
//                tempF: 13,
//                windSpeedMiles: 52,
//                pressure: 23,
//                humidity: 17,
//                weatherCode: 116
//            },
//            latLngList: [[42.360701, 21], [42.460701, 29], [41.360701, 27], [40.360701, 21]],
//            showSpeedThrottle:null,
//            showRpm:null,
//            showAmbient:null,
//            showPsi:null,
//            showTimeDate:null,
//            showGforce:null,
//            showRollPitch:null,
//            showGps:null,
//            theme:null
//        });
//        update();
//
//        setTimeout(function () {
            setState({
                showSpeedThrottle: "M",
                showRpm: "M",
                showAmbient: "M",
                showPsi: "M",
                showTimeDate: "M",
                showGforce: "M",
                showRollPitch: "M",
                showGps: "M",
                theme: 'default'
            });
            update();
//        }, 0);

//    setTheme('neo');
//    setState({'showAmbient':'L'})
//    update()
</script>
</body>
</html>